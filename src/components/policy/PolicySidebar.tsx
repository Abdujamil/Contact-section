import React from "react";
import styles from "@/app/page.module.scss";
import { PolicyTab } from "@/components/policy/PolicyPage";
import PolicyTabButton from "@/components/policy/PolicyTabButton";
import BlogAside from "../blogPageCard/blogAside";
import { policyData } from "@/data/policy";

interface PolicySidebarProps {
  activeTab: PolicyTab;
  setActiveTab: (tab: PolicyTab) => void;
}

const PolicySidebar: React.FC<PolicySidebarProps> = ({
  activeTab,
  setActiveTab,
}) => {
  const currentBlogItem = policyData.find((item) => item.id);

  const tabs = [
    {
      id: "policy" as PolicyTab,
      label: "Политика",
      icon: (
        <svg viewBox="0 0 25 28" xmlns="http://www.w3.org/2000/svg">
          <path d="M14.1577 0.699219V7.89922C14.1577 8.53574 14.4196 9.14619 14.8857 9.59628C15.3519 10.0464 15.9841 10.2992 16.6433 10.2992H24.1003V23.8992C24.1003 24.5357 23.8384 25.1462 23.3722 25.5963C22.9061 26.0464 22.2739 26.2992 21.6146 26.2992H14.1577V19.8992C14.1579 19.1897 13.9138 18.5002 13.4638 17.9391C13.0139 17.3781 12.3836 16.9774 11.672 16.8V16.6992C11.6723 15.8565 11.4428 15.0286 11.0066 14.2987C10.5704 13.5688 9.94282 12.9627 9.18704 12.5412C8.43126 12.1197 7.57389 11.8978 6.70111 11.8977C5.82834 11.8977 4.97092 12.1195 4.21508 12.5408V3.09922C4.21508 2.4627 4.47696 1.85225 4.94311 1.40216C5.40926 0.952075 6.04149 0.699219 6.70073 0.699219H14.1577ZM15.8148 1.09922V7.89922C15.8148 8.11139 15.9021 8.31488 16.0575 8.4649C16.2128 8.61493 16.4236 8.69922 16.6433 8.69922H23.686L15.8148 1.09922ZM3.38653 16.6992V18.2992H2.55798C2.11849 18.2992 1.697 18.4678 1.38623 18.7678C1.07547 19.0679 0.900879 19.4749 0.900879 19.8992V26.2992C0.900879 26.7236 1.07547 27.1305 1.38623 27.4306C1.697 27.7306 2.11849 27.8992 2.55798 27.8992H10.8435C11.283 27.8992 11.7045 27.7306 12.0152 27.4306C12.326 27.1305 12.5006 26.7236 12.5006 26.2992V19.8992C12.5006 19.4749 12.326 19.0679 12.0152 18.7678C11.7045 18.4678 11.283 18.2992 10.8435 18.2992H10.0149V16.6992C10.0149 15.8505 9.66575 15.0366 9.04422 14.4365C8.42269 13.8364 7.57971 13.4992 6.70073 13.4992C5.82175 13.4992 4.97877 13.8364 4.35723 14.4365C3.7357 15.0366 3.38653 15.8505 3.38653 16.6992ZM5.04363 18.2992V16.6992C5.04363 16.2749 5.21822 15.8679 5.52898 15.5678C5.83975 15.2678 6.26124 15.0992 6.70073 15.0992C7.14022 15.0992 7.56171 15.2678 7.87247 15.5678C8.18324 15.8679 8.35783 16.2749 8.35783 16.6992V18.2992H5.04363ZM6.70073 21.8992C7.03035 21.8992 7.34646 22.0256 7.57954 22.2507C7.81261 22.4757 7.94355 22.781 7.94355 23.0992C7.94355 23.4175 7.81261 23.7227 7.57954 23.9477C7.34646 24.1728 7.03035 24.2992 6.70073 24.2992C6.37111 24.2992 6.05499 24.1728 5.82192 23.9477C5.58884 23.7227 5.4579 23.4175 5.4579 23.0992C5.4579 22.781 5.58884 22.4757 5.82192 22.2507C6.05499 22.0256 6.37111 21.8992 6.70073 21.8992Z" />
        </svg>
      ),
      viewBox: "0 0 25 28",
    },
    {
      id: "offer" as PolicyTab,
      label: "Оферта",
      icon: (
        <svg viewBox="0 0 25 28" xmlns="http://www.w3.org/2000/svg">
          <path d="M14.8654 0.544922V7.32429C14.8654 8.09486 15.1541 8.83387 15.668 9.37874C16.1819 9.92362 16.879 10.2297 17.6058 10.2297H24V24.7569C24 25.5275 23.7113 26.2665 23.1974 26.8114C22.6834 27.3563 21.9864 27.6624 21.2596 27.6624H9.4787C10.2974 27.3138 11.0394 26.7898 11.6584 26.1232C12.2774 25.4566 12.7599 24.6618 13.0759 23.7885C13.6816 23.7885 14.2624 23.5334 14.6907 23.0793C15.119 22.6252 15.3596 22.0094 15.3596 21.3673C15.3596 20.7251 15.119 20.1093 14.6907 19.6552C14.2624 19.2011 13.6816 18.9461 13.0759 18.9461C12.7538 18.0559 12.2587 17.2476 11.6227 16.5735C10.9868 15.8994 10.2243 15.3747 9.38462 15.0334C9.38462 14.3912 9.14402 13.7754 8.71575 13.3213C8.28748 12.8673 7.70662 12.6122 7.10096 12.6122C6.4953 12.6122 5.91444 12.8673 5.48617 13.3213C5.05791 13.7754 4.81731 14.3912 4.81731 15.0334C4.50181 15.1612 4.19637 15.3154 3.90385 15.4944V3.45036C3.90385 2.67979 4.19256 1.94078 4.70649 1.39591C5.22041 0.85103 5.91744 0.544922 6.64423 0.544922H14.8654ZM16.6923 0.658234V7.32429C16.6923 7.58114 16.7885 7.82748 16.9599 8.00911C17.1312 8.19073 17.3635 8.29277 17.6058 8.29277H23.8931C23.7649 7.81957 23.5254 7.38867 23.1971 7.04052L17.8734 1.39718C17.5451 1.04871 17.1387 0.794435 16.6923 0.658234ZM8.01442 15.0721C8.01442 14.8153 7.91818 14.5689 7.74688 14.3873C7.57557 14.2057 7.34323 14.1037 7.10096 14.1037C6.8587 14.1037 6.62635 14.2057 6.45505 14.3873C6.28374 14.5689 6.1875 14.8153 6.1875 15.0721V16.1278C5.18768 16.3249 4.26762 16.8384 3.54852 17.6008C2.82942 18.3633 2.34502 19.3387 2.15913 20.3988H1.16346C0.921196 20.3988 0.688854 20.5008 0.517547 20.6824C0.346239 20.8641 0.25 21.1104 0.25 21.3673C0.25 21.6241 0.346239 21.8704 0.517547 22.0521C0.688854 22.2337 0.921196 22.3357 1.16346 22.3357H2.15913C2.34502 23.3958 2.82942 24.3713 3.54852 25.1337C4.26762 25.8961 5.18768 26.4096 6.1875 26.6067V27.6624C6.1875 27.9192 6.28374 28.1656 6.45505 28.3472C6.62635 28.5288 6.8587 28.6309 7.10096 28.6309C7.34323 28.6309 7.57557 28.5288 7.74688 28.3472C7.91818 28.1656 8.01442 27.9192 8.01442 27.6624V26.6067C9.01425 26.4096 9.93431 25.8961 10.6534 25.1337C11.3725 24.3713 11.8569 23.3958 12.0428 22.3357H13.0385C13.2807 22.3357 13.5131 22.2337 13.6844 22.0521C13.8557 21.8704 13.9519 21.6241 13.9519 21.3673C13.9519 21.1104 13.8557 20.8641 13.6844 20.6824C13.5131 20.5008 13.2807 20.3988 13.0385 20.3988H12.0428C11.8569 19.3387 11.3725 18.3633 10.6534 17.6008C9.93431 16.8384 9.01425 16.3249 8.01442 16.1278V15.0721ZM3.90385 21.3673C3.90385 20.4683 4.24068 19.6061 4.84026 18.9704C5.43984 18.3347 6.25303 17.9776 7.10096 17.9776C7.94889 17.9776 8.76209 18.3347 9.36166 18.9704C9.96124 19.6061 10.2981 20.4683 10.2981 21.3673C10.2981 22.2663 9.96124 23.1284 9.36166 23.7641C8.76209 24.3998 7.94889 24.7569 7.10096 24.7569C6.25303 24.7569 5.43984 24.3998 4.84026 23.7641C4.24068 23.1284 3.90385 22.2663 3.90385 21.3673ZM8.47115 21.3673C8.47115 21.7525 8.3268 22.122 8.06983 22.3945C7.81287 22.6669 7.46436 22.82 7.10096 22.82C6.73756 22.82 6.38905 22.6669 6.13209 22.3945C5.87513 22.122 5.73077 21.7525 5.73077 21.3673C5.73077 20.982 5.87513 20.6125 6.13209 20.34C6.38905 20.0676 6.73756 19.9145 7.10096 19.9145C7.46436 19.9145 7.81287 20.0676 8.06983 20.34C8.3268 20.6125 8.47115 20.982 8.47115 21.3673Z" />
        </svg>
      ),
      viewBox: "0 0 24 29",
    },
    {
      id: "license" as PolicyTab,
      label: "Лицензии",
      icon: (
        <svg viewBox="0 0 25 28" xmlns="http://www.w3.org/2000/svg">
          <path d="M13.3929 7.38281V0H5.85938C5.19337 0 4.55465 0.259277 4.08372 0.720792C3.61278 1.18231 3.34821 1.80826 3.34821 2.46094V14.7656H12.5558C13.2218 14.7656 13.8605 15.0249 14.3315 15.4864C14.8024 15.9479 15.067 16.5739 15.067 17.2266C15.067 17.8792 14.8024 18.5052 14.3315 18.9667C13.8605 19.4282 13.2218 19.6875 12.5558 19.6875H3.34821V23.7891C3.34821 24.4417 3.61278 25.0677 4.08372 25.5292C4.55465 25.9907 5.19337 26.25 5.85938 26.25H20.9263C21.5923 26.25 22.2311 25.9907 22.702 25.5292C23.1729 25.0677 23.4375 24.4417 23.4375 23.7891V9.84375H15.904C15.238 9.84375 14.5993 9.58447 14.1284 9.12296C13.6574 8.66144 13.3929 8.03549 13.3929 7.38281ZM6.69643 12.3047C6.69643 12.0871 6.78462 11.8785 6.9416 11.7246C7.09857 11.5708 7.31148 11.4844 7.53348 11.4844H19.2522C19.4742 11.4844 19.6871 11.5708 19.8441 11.7246C20.0011 11.8785 20.0893 12.0871 20.0893 12.3047C20.0893 12.5222 20.0011 12.7309 19.8441 12.8847C19.6871 13.0386 19.4742 13.125 19.2522 13.125H7.53348C7.31148 13.125 7.09857 13.0386 6.9416 12.8847C6.78462 12.7309 6.69643 12.5222 6.69643 12.3047ZM6.69643 22.1484C6.69643 21.9309 6.78462 21.7222 6.9416 21.5684C7.09857 21.4146 7.31148 21.3281 7.53348 21.3281H19.2522C19.4742 21.3281 19.6871 21.4146 19.8441 21.5684C20.0011 21.7222 20.0893 21.9309 20.0893 22.1484C20.0893 22.366 20.0011 22.5746 19.8441 22.7285C19.6871 22.8823 19.4742 22.9688 19.2522 22.9688H7.53348C7.31148 22.9688 7.09857 22.8823 6.9416 22.7285C6.78462 22.5746 6.69643 22.366 6.69643 22.1484ZM15.067 7.38281V0.410156L23.019 8.20312H15.904C15.682 8.20312 15.4691 8.1167 15.3121 7.96286C15.1552 7.80902 15.067 7.60037 15.067 7.38281ZM0.837054 16.4062C0.615053 16.4062 0.402145 16.4927 0.245167 16.6465C0.0881895 16.8004 0 17.009 0 17.2266C0 17.4441 0.0881895 17.6528 0.245167 17.8066C0.402145 17.9604 0.615053 18.0469 0.837054 18.0469H12.5558C12.7778 18.0469 12.9907 17.9604 13.1477 17.8066C13.3047 17.6528 13.3929 17.4441 13.3929 17.2266C13.3929 17.009 13.3047 16.8004 13.1477 16.6465C12.9907 16.4927 12.7778 16.4062 12.5558 16.4062H0.837054Z" />
        </svg>
      ),
      viewBox: "0 0 24 27",
    },
  ];

  return (
    <aside className="sticky top-20 h-fit z-[10] w-[260px]">
      <div
        className={`${styles.btns} mb-[46px] flex flex-col items-start justify-start w-full max-w-[260px] p-[20px] gap-[12px] bg-[rgba(0, 0, 0, 0.07)] border border-[#353535] rounded-[6px]`}
      >
        {tabs.map((tab) => (
          <PolicyTabButton
            key={tab.id}
            tab={tab}
            isActive={activeTab === tab.id}
            onClick={() => setActiveTab(tab.id)}
          />
        ))}
      </div>

      <BlogAside items={currentBlogItem?.aside} />
    </aside>
  );
};

export default PolicySidebar;
